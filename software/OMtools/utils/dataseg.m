% Written by:  Jonathan Jacobs%              April 2004  (last mod 04/01/04)temp = 'notavariable';while ~exist(temp, 'var')   temp = input('Enter channel to be segmented (''q'' to quit): ','s');   tempstr = temp;   if strcmp(tempstr,'q'), return, endendeval(['temp = ' temp ';'])%%% break the data into segmentsnumsec = -1;while numsec<=0   numsec = input('How many seconds per segment? ');endnumsamp = numsec * samp_freq;totalsegs = ceil(length(temp)/numsamp);fullsegs = fix(length(temp)/numsamp);extrapts = length(temp)-fullsegs*numsamp;for i = 1:fullsegs   eval([tempstr '_s' num2str(i) ' = temp( (i-1)*numsamp+1:numsamp*i );'])   disp([' created:' tempstr '_s' num2str(i) ' (' num2str(numsamp) ' samples)' ])endif extrapts   eval([tempstr '_s' num2str(totalsegs) ' = temp( numsegs*numsamp+1:length(temp) );'])   disp([' created:' tempstr '_s' num2str(totalsegs) ' (' num2str(extrapts) ' samples)'])endreturn