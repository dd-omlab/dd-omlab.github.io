							OMS MODELGENERALThe Ocular Motor System (OMS) model contains saccadic and smooth pursuit (SP) subsystems controlled by an internal monitor (IM) plus a fixation subsystem. It is capable of simulating normal ocular motor behaviors to commonly applied target stimuli as well as behaviors to these same stimuli by subjects with various ocular motor system disorders. Among the latter are CN, LMLN, GEN, MG, and various saccadic intrusions and oscillations (see references below).The underlying hypothesis of the OMS model is that the brain reconstructs target position and velocity from retinal signals and efference copy of motor output signals and it is those reconstructed signals that are used to make decisions controlling ocular motor responses. This internal reconstruction provides signals that may be thought of as "perceived" target position and velocity and that are responsible for oscillopsia or its absence.Realization of the actual functional block to accomplish each required motor or decision signal is only one of a very large set of solutions. "Nonphysiological" blocks can (and will) be replaced by more physiological designs without changing the overall behavior of the model. The strength of the model lies in its organization and interconnecting feedback pathways; these reflect current knowledge of the ocular motor system's organization and our interpretations of the mathematical and decision-making functions required to simulate the wide range of ocular motor behaviors recorded from both normals and those with the specific disorders incorporated into the model.The model uses a 2-pole plant and the pulse generator (PG) height and width functions are tuned for that plant. The ocular motor neurons (OMN) only pass the neural integrator (NI) signal in the absence of the PG signal. The NI only integrates the PG signal until the "nihold" signal from the IM stops it. That happens when the NI output equals the desired eye position. Eye velocity signals from the IM are integrated by the NI and also passed through a gain "k" (0.25) to the OMN. The SP system is modified from David A. Robinson (1986) to function in a position-based ocular motor system (OMS). It contains the internal feedback loop "PMC+" (plus noise). Finally, both retinal error and retinal error velocity are sent from the retina to the IM.The model is modular and allows for substitution of different plants, NIs, PGs, and SP subsystems. The current NI is a leaky (25 sec) NI with a positive feedback loop to compensate for the leak. The PG contains both a height and width nonlinearity and the width (PW) is controlled by a local resettable NI. The PG signal has both phasic and tonic adjustable gains.USAGENOTE: This model was developed in Simulink 2.2 (part of the MATLAB 5.2.x release), and has not been tested under later versions. However there is no reason to believe out of hand that it will not work under these later releases.Before using the OMS model, it is advisable to make a backup copy so that an unchanged copy of each version is available. Common ocular motor stimuli (steps, pulses, ramps, step-ramps) can be input into the OMS model from the sources provided. The model requires that the simulation "Solver options" be "Fixed-step" (Fixed step size of 0.001) and "ode-4 (Runge-Kutta)". There are also a number of externally settable OMS-model parameters that allow simulation of different waveforms of CN and LMLN as well as normal behaviors. These are incorporated into profiles accessed using "setmdlp", a program with a graphical interface that allows the user to easily inspect and modify these parameters. Place the program "setmdlp" in a directory that is on the MATLAB path."setmdlp" requires, and will try to create if necessary, a directory called "omPrefs" in the same directory where MATLAB exists (to find, type the command "matlabroot" from the MATLAB command line).  "setmdlp" will try to read the file "mdlParams.mat", which contains the last set of model parameters used.  If this file does not exist, the program will prompt the user to load an existing parameter set or create a new set. If the user wishes to change any parameter, simply type the new value in the appropriate field and click the "Apply" button so the model will recognize the update.Modified parameter sets can be stored anywhere desired, using the "Save as..." button, and loaded using the "Load" button. We have included a set of parameters covering normal function of the OMS model as well as several deficits and forms of nystagmus.For convenience, multiple versions of some sub-blocks are left, unconnected, inside certain blocks, allowing the user to swap between the different implementations. However Simulink will complain about any block that has unconnected inputs or outputs. The warnings that are issued at run time do not affect the operation of the model, but can be distracting when they clutter up the command window. Simply type "warning off" at the command line to disable this behavior.MODEL INTERNAL DETAILSPGThe saccadic motor command is passed by a S/H circuit to both the PH and PW functions. The output of the PH function is passed through a switch to the output of the PG. The switch is controlled by the output of the PW circuitry. PG is also fed back through a refractory latch to the S/H, placing it in the H mode until 50 ms after the end of the PG signal. The refractory latch initiates a low output ('disable') from the onset of the PG signal. The trailing edge of PG then starts the refractory timing circuit that outputs a high signal ('reenable') to the S/H after 50 ms (user-definable), allowing the next pulse to be generated.SPThe SP system operates on reconstructed target velocity from the IM and outputs a desired eye velocity signal. The forward path contains a LP filter, gain, velocity saturation and a premotorcircuit (PMC+). The PMC+ circuit has an acceleration saturation and an integrator in a negative feedback loop. Provision is also made for velocity niose. The PMC+ circuit controls the oscillatory behavior of the SP system.IMThis is the heart of the model, as it is responsible for separating true target position and motion from retinal image position and motion. It does this using efference copy of both eye positionand velocity commands and a target change decision-making circuit. Other inputs to the IM are a light/dark (L/D) signal and a tonic imbalance (TI) signal; the latter might be driven by any of a number of mechanisms hypothesized to cause LMLN. The IM consists of several major functional blocks: target change detection, target position reconstruction (containing model OMN and plant), target velocity reconstruction (containing model velocity circuitry and plant), saccade and drift blanking, braking saccadic logic, NI control, Alexander's law variation, and saccade enabling.Target Change Detection:  If retinal error velocity (RetErrVel = edot50) is greater than 950 deg/sec, "tchng" goes high, indicating that the target has jumped. This signal is used in combination with "tvelchng", which goes high if the derivative of reconstructed target velocity, tvpr, is greater than 950 deg/s^2.Target Position Reconstruction: Retinal error position (epos50) is summed with the efference copy of eye position (epospr) after the latter is passed through a model of the OMN (OMN2) and 2-pole plant yielding "ecpy80". Appropriate delays are in place. The resulting signal is reconstructed target position (T'). T' is sampled to yield T'* (tpstar) when either a target change (tchng) is detected or a retinal feedback sample (rfbspl) is called for by the Saccade Enable circuitry.Target Velocity Reconstruction: Retinal error velocity (edot50) is limited and passed through a dead zone (0.1 deg/sec) and then summed with the efference copy of eye velocity (evelpr) after the latter is summed with tonic imbalance (TI) and passed through a model of the 1-zero, 2-pole "plant+" yielding "imsp". Appropriate delays are in place. The resulting signal is sampled or held, based on the "sbsp" signal from the Saccade and Drift Blanking (SP) circuit. This "spsh" signal is low-pass filtered (5/[s+5]) and passed through a dead zone (0.2deg/sec) to yeild reconstructed target velocity (Tvel'*), which is the input motor command signal "SPmc" = "tvpr" to the SP circuitry.Saccade Enable: This block contains the sub-blocks Enable Control, Efference Copy (ECPY) Timing, Retinal Feedback (RetFB) Enable & Sample, and Defoveating Fast-Phase Generation (DFFPh Gen). The Enable Control circuitry sends output signals to both the ECPY Timing and RetFB Enable & Sample circuits. The output from the latter directly enables a saccade to be initiated (Sacc Enab = sacenab). The second output from the Saccade Enabling (from RetFB Enable & Sample) is a retinal feedback sample (RFB En&Spl = rfbspl) signal that allows sampling of a new reconstructed target signal; Target Change Detection also allows such sampling. The third output from Saccade Enabling (from Defoveating Fast-Phase Generation) is a fast phase amplitude signal (FPh Size = fphsz) that is added to a sampled, reconstructed retinal error signal to determine saccade size via the saccadic motor command (Saccmc = smcspr) which is sent to the PG.The Enable Control circuitry uses sampled, reconstructed retinal error (after a 0.3 deg dead zone) (e'*DZ), PG, and Target Change Detection (TChngDet = tchng) to determine if an ECPY (i.e., "corrective") saccade or a RetFB (i.e., "fixation") saccade should be enabled. If "e'*DZ" is non-zero and it has been less than 150 ms since the last detected change in target position, PG is passed to the output, "ECPY Tmng". If, on the other hand, at least 150 ms has passed since the last detected target change, the "RetFB En&Spl" = "rfbspl" output will go high (1). The "RetFB En&Spl" = "rfbenspl" passes to the Ret FB Enab & Sample circuitry.The ECPY Timing circuitry acts on the "ECPY Tmng" = "ectmng" input signal. It outputs an "ECPY Enable" = "ecpyenab" signal that is 10 ms long (set in "enable duration") and starts 130 ms after PG concludes (set in "post-pulse delay time"). The "ECPY Enable" signal passes to the RetFB Enable & Sample circuitry.The RetFB Enable & Sample circuitry uses 5 inputs: retinal error position (err50), "RetFB En&Spl" = "rfbenspl" from the Enable Control circuitry, "eedot" and "TIDZ" from the DFFPh Gen circuitry, and "ecpyenab" from the ECPY Timing circuitry. Its outputs are "RetFb Spl" = "rfbspl" and "RetFB Enable" = "sacenab". The "rfbspl" signal allows sampling of reconstructed target position (T') to produce (T'*). Each "ecpyenab" input causes "rfbspl" to go to 0, where it remains until the RFB latency of 330 ms expires (if no other "ecpyenab" signals occur) and sets "rfbspl" to 1. "RetFb Spl" also goes to one with either "andf" or "andff". The "RetFB Enable" signal produces "sacenab" (see above). Before a "RetFB Enab" signal is created, 1 of 5 criteria must be satisfied, several of which depend on specific combinations of the 5 inputs to the RetFB Enable and Sample circuitry. Two criteria that directly trigger a "RetFB Enable" output are a "RetFB En&Spl" signal form the Enable Control circuitry and an "rfbspl" signal from within this block. Each of 2 other criteria result from the outputs (andf and anddf) of multi-input AND gates. The first AND gate requires that 4 conditions be met: 200 ms has elapsed since the last "sacenab" signal, "TIDZ" must be 0, "err50" must have a magnitude >0.5, and "eedot" must be high (1). The second AND gate also requires that 4 conditions be met: 200 ms has elapsed since the last "sacenab" signal, "err50" has to be non-zero, "eedot" must be high (1), and "TIDZ" must be non-zero. The final criterion that triggers "RetFB Enable" is the output of the AND gate "andcs" when "ecpyenab" and "gtt" are high. That is, when the magnitude of the retinal error is higher than the 0.5 threshold. This triggers a "corrective" saccade.The Defoveating Fast-Phase Generation circuitry uses 7 inputs: "tial", "err50", "RetFB Enable" from the RetFB Enable & Sample circuitry, "edot50", "ECPY Enable" from the ECPY Enable circuitry, "sbsac", and TCD (tchng). Its outputs are: "FPh size" = "fphsz", "eedot", and TIDZ. The "FPh size" output sums with "e'*DZ" to determine the magnitude of "saccmc" = "smcspr". The "eedot" and "TIDZ" outputs are used by the RetFB Enable & Sample circuitry. The "FPh size" output is "TIDZ" multiplied by -0.8 (tipt8) if either "RetFB Enable" or "ECPY Tmng" = "ectmng" are high (1) and at least 200 ms has elapsed since the last "tchng" signal; if both are low, "FPh size" is 0. The "eedot" output is high if either "err50" and "edot50" sampled (edotspl) are greater than0 or both are less than 0. "edotspl" is the output of a S/H circuit controlled by "sbsac". As the name implies, the "TIDZ" output is created by passing the "tial" input through a dead zone of 4 deg/sec.Saccade and Drift Blanking: The Saccade and Drift Blanking circuitry prevents other logic from evaluating steady-state target, eye, or retinal variables during, or immediately after saccades. It creates a blanking signal (sbsac) that lasts for PW + 70 ms, using a delayed PG signal (pg80). The "sbsac" signal is also used to prevent the effects of post-saccadic drift from adversely affecting calculation of reconstructed target velocity. The "sbsac" signal causes the "SP S/H" = "sbsp" signal to be 0 (after "sbsac" goes to 1 after 80+PW+70 ms) until the velocity error signal (velerr) begins to increase, at which time "sbsp" goes to 1.Neural Integrator Control: When TI is non-zero, the Neural Integrator Control circuitry allows the NI to integrate the output of PG until its output (desired eye position) is equal to the reconstructed target position. The output signal (H) is used to remove the PG input from the NI via a control switch. H is set to 0 when both PG and the reconstructed error signal (epr) are non-zero. During PG, H remains low (0) until "epr" crosses zero, whereupon H is set high (1). H is also set to 1 if PG terminates. In the absence of a tonic imbalance (TI=0), the NI integrates all PG signals. Other conditions (e.g., for GEN, SP, etc.) need to be added to activate this circuitry that allows the NI to hold its value when it has arrived at the correct eye position.Alexander's Law: This circuitry uses efference copy of eye position (epospr) to modulate the TI input and produce "TIAL" = "tial". The eye position signal is multiplied by the Alexander's law slope and filtered before summing with TI. Depending on the sign of TI, this sum is kept greater than or less than 0 and passed onto a final switch that only passes an output if TI is nonzero.Braking Saccade Logic: The Braking Saccade Logic circuitry (for CN) uses sampled, reconstructed retinal position error (ecd1str), sampled, reconstructed retinal slip velocity (svpr = slipvel2), and desired eye velocity (Evel') to determine if the conditions for generating a BS are met. Braking saccades will always occur in the direction opposite to eye motion if the eye is moving away from the target. First, "ecd1str" is used by the BS or FS circuit to determine if retinal error is increasing (calling for a BS) or decreasing (no BS). If this criterion for a BS is met, its magnitude is determined within limits. Second, "svpr" is compared to a threshold; if it exceeds it, the second criterion for a BS is met. Third, the direction of "Evel'" is determined and used to assign the direction of the BS. The product of these logic signals is used with "Evel'" by the BS Enable circuit. If the derivative of "Evel'" (desired eye acceleration) falls below threshold, a BS is enabled for a period of time determined by the BS Timing circuit.NYSTAGMUS HYPOTHESESCNThe underlying hypothesis for CN is that it represents a failure to calibrate the normal damping in the SP system, resulting in a continuous, sinusoidal velocity oscillation. All subsequent known CN waveforms are the result of the interactions as the normal saccadic subsystem attempting to brake the oscillation, and the fixation system's attemts to foveate the target.LMLNThe underlying hypothesis for LMLN is not restricted to any specific hypothesis for its genesis. The driving force for LMLN is considered to be a tonic imbalance that results from either of the three current hypotheses for LMLN. It eminates from the visuovestibular system (not included in this version) and is a tonic imbalance (TI) that drives the eyes off target with constant velocity slow phases. The decelerating slow phases also observed in LMLN are produced by a switch in saccadic function from foveation of the target to defoveation when the TI becomes too large (more than 4 deg/sec) for good acuity. That allows the fixation system to slow the drift for better acuity.FUTURE DEVELOPMENTWe are expanding the current OMS model and will release future versions after they are tested. If users find any bugs or make changes, they are encouraged to bring them to our attention so that, after testing them, we may incorporate them into future versions (with citation of the source).In this way we hope to expand the behaviors of the model as well as the ocular motor deficits it can simulate. We will also incorporate different versions of key functional blocks as neurophysiological evidence is provided in the literature. We hope this model will become a platform for testing putative models of subfunctions that come out of research into brain-site specific, single-cell recordings. The model has also proven useful in teaching normal and abnormal ocular motility as its outcomes can be made into QuickTime movies and incorporated into programs designed for computer projection of figures and movies.REFERENCES1. Dell'Osso LF. Nystagmus basics. Normal models that simulate dysfunction. In: G.K. Hung and K.J. Ciuffreda, editors.Models of the Visual System. New York: Kluwer Academic / Plenum Publishers; 2002.2. Dell'Osso LF, Jacobs JB. A normal ocular motor system model that simulates the dual-mode fast phases of latent/manifest latent nystagmus. Biological Cybernetics 2001;85:459-71.3. Jacobs JB, Dell'Osso LF. Congenital nystagmus: hypothesis for its genesis and complex waveforms within a behavioral ocular motor system model. JOV 2004;4(7):604-25, http://journalofvision.org/4/7/7/4. Robinson DA, Gordon JL, Gordon SE. A model of smooth pursuit eye movements. Biol Cyber 1986;55:43-57.